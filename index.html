<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1a237e">
    <meta name="description" content="현대아이티 스마트보드 렌탈 견적">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="HDIT렌탈">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="images/logo.png">
    <link rel="apple-touch-icon" href="images/logo.png">
    <title>현대아이티 스마트보드 렌탈</title>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 헤더 -->
    <header class="header">
        <div class="header-top">
            <div class="logo-area">
                <img src="images/logo.png" alt="현대아이티">
                <h1>스마트보드 렌탈</h1>
            </div>
            <button class="install-btn" id="installBtn" onclick="installApp()">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 5v14M5 12l7 7 7-7"/></svg>
                설치
            </button>
        </div>
        <nav class="tab-nav">
            <button class="tab-btn active" onclick="switchTab('quote')">렌탈 견적</button>
            <button class="tab-btn" onclick="switchTab('strength')">현대아이티 강점</button>
        </nav>
    </header>

    <main class="main">
        <!-- 렌탈 견적 탭 -->
        <div id="tab-quote" class="tab-content active">
            <!-- 카테고리 선택 -->
            <div class="select-group">
                <h2><span class="icon">1</span> 제품 선택</h2>
                <div class="category-badges" id="categoryBadges">
                    <button class="category-badge" data-cat="인기기업형" onclick="selectCategory('인기기업형')">인기기업형 (MX)</button>
                    <button class="category-badge" data-cat="저가형" onclick="selectCategory('저가형')">저가형</button>
                    <button class="category-badge" data-cat="최신형" onclick="selectCategory('최신형')">최신형 (IX)</button>
                </div>

                <div class="form-field">
                    <label>제품 라인</label>
                    <select id="selLine" onchange="onLineChange()" disabled>
                        <option value="">카테고리를 먼저 선택하세요</option>
                    </select>
                </div>

                <div class="form-field">
                    <label>화면 크기</label>
                    <select id="selSize" onchange="onSizeChange()" disabled>
                        <option value="">제품 라인을 먼저 선택하세요</option>
                    </select>
                </div>

                <div class="form-field">
                    <label>설치 타입</label>
                    <select id="selType" onchange="onTypeChange()" disabled>
                        <option value="">화면 크기를 먼저 선택하세요</option>
                    </select>
                </div>

                <div class="form-field" id="depositField" style="display:none">
                    <label>선납금</label>
                    <select id="selDeposit" onchange="onDepositChange()" disabled>
                        <option value="">선납금 선택</option>
                    </select>
                </div>
            </div>

            <!-- 결과 영역 -->
            <div class="result-section" id="resultSection">
                <div class="result-header" id="resultHeader"></div>
                <div class="price-grid" id="priceGrid"></div>
                <div class="notice-box">
                    <p>* 상기 금액은 부가세 별도 금액입니다.</p>
                    <p>* 선납 렌탈 상품으로, 선납금은 계약 시 납부합니다.</p>
                    <p>* 렌탈 기간 종료 후 제품 소유권이 이전됩니다.</p>
                </div>
            </div>

            <!-- 빈 상태 -->
            <div class="empty-state" id="emptyState">
                <div class="icon">&#128187;</div>
                <p>제품과 규격을 선택하시면<br>렌탈 견적을 확인하실 수 있습니다.</p>
            </div>
        </div>

        <!-- 경쟁력 비교 탭 -->
        <div id="tab-strength" class="tab-content">
            <div class="strength-section">
                <h2>현대전자칠판이 삼성/LG 보다 더 앞서있는 이유</h2>
                <div class="scroll-wrapper">
                    <img src="images/strength.jpg" alt="현대아이티 경쟁력 비교">
                </div>
                <p class="strength-tip">* 이미지를 좌우로 스크롤하거나 확대하여 상세 내용을 확인하세요.</p>
            </div>
        </div>

        <footer class="footer">
            &copy; 2026 현대아이티. All rights reserved.<br>
            개발: 고정현 (kjhyun@hyundaiit.com)
        </footer>
    </main>

    <script>
    // 렌탈 데이터
    const DATA = [
        {"line":"MX","category":"인기기업형","size":"55\"","type":"벽걸이","typeDetail":"벽걸이형","deposit":500000,
         "prices":{"24":{"monthly":58500,"total":1904000},"36":{"monthly":44000,"total":2084000},"48":{"monthly":38700,"total":2357600},"60":{"monthly":36600,"total":2696000}}},
        {"line":"MX","category":"인기기업형","size":"55\"","type":"스탠드","typeDetail":"원목스탠드","deposit":500000,
         "prices":{"24":{"monthly":67300,"total":2115200},"36":{"monthly":50400,"total":2314400},"48":{"monthly":44600,"total":2640800},"60":{"monthly":42000,"total":3020000}}},
        {"line":"MX","category":"인기기업형","size":"65\"","type":"벽걸이","typeDetail":"벽걸이형","deposit":1000000,
         "prices":{"24":{"monthly":127000,"total":4048000},"36":{"monthly":95000,"total":4420000},"48":{"monthly":83000,"total":4984000},"60":{"monthly":78000,"total":5680000}}},
        {"line":"MX","category":"인기기업형","size":"65\"","type":"스탠드","typeDetail":"전동스탠드","deposit":1000000,
         "prices":{"24":{"monthly":158000,"total":4792000},"36":{"monthly":118000,"total":5248000},"48":{"monthly":104000,"total":5992000},"60":{"monthly":97000,"total":6820000}}},
        {"line":"MX","category":"인기기업형","size":"75\"","type":"벽걸이","typeDetail":"벽걸이형","deposit":1000000,
         "prices":{"24":{"monthly":143000,"total":4432000},"36":{"monthly":107000,"total":4852000},"48":{"monthly":93000,"total":5464000},"60":{"monthly":88000,"total":6280000}}},
        {"line":"MX","category":"인기기업형","size":"75\"","type":"스탠드","typeDetail":"전동스탠드","deposit":1000000,
         "prices":{"24":{"monthly":175000,"total":5200000},"36":{"monthly":130000,"total":5680000},"48":{"monthly":114000,"total":6472000},"60":{"monthly":106000,"total":7360000}}},
        {"line":"MX","category":"인기기업형","size":"86\"","type":"벽걸이","typeDetail":"벽걸이형","deposit":1000000,
         "prices":{"24":{"monthly":183000,"total":5392000},"36":{"monthly":137000,"total":5932000},"48":{"monthly":118000,"total":6664000},"60":{"monthly":111000,"total":7660000}}},
        {"line":"MX","category":"인기기업형","size":"86\"","type":"스탠드","typeDetail":"전동스탠드","deposit":1000000,
         "prices":{"24":{"monthly":215000,"total":6160000},"36":{"monthly":160000,"total":6760000},"48":{"monthly":140000,"total":7720000},"60":{"monthly":130000,"total":8800000}}},
        {"line":"MX","category":"인기기업형","size":"86\" 프리미엄","type":"벽걸이","typeDetail":"벽걸이형","deposit":1000000,
         "prices":{"24":{"monthly":204000,"total":5896000},"36":{"monthly":154000,"total":6544000},"48":{"monthly":134000,"total":7432000},"60":{"monthly":125000,"total":8500000}}},
        {"line":"MX","category":"인기기업형","size":"86\" 프리미엄","type":"스탠드","typeDetail":"전동스탠드","deposit":1000000,
         "prices":{"24":{"monthly":236000,"total":6664000},"36":{"monthly":175000,"total":7300000},"48":{"monthly":153000,"total":8344000},"60":{"monthly":142000,"total":9520000}}},
        {"line":"MX","category":"인기기업형","size":"98\"","type":"벽걸이","typeDetail":"벽걸이형","deposit":2000000,
         "prices":{"24":{"monthly":339700,"total":10152800},"36":{"monthly":253100,"total":11111600},"48":{"monthly":222900,"total":12699200},"60":{"monthly":207600,"total":14456000}}},
        {"line":"MX","category":"인기기업형","size":"98\"","type":"스탠드","typeDetail":"전동스탠드","deposit":2000000,
         "prices":{"24":{"monthly":370900,"total":10901600},"36":{"monthly":281900,"total":12148400},"48":{"monthly":248400,"total":13923200},"60":{"monthly":231000,"total":15860000}}},
        {"line":"N Series","category":"저가형","size":"NA 86\"","type":"벽걸이","typeDetail":"벽걸이형","deposit":1000000,
         "prices":{"24":{"monthly":121000,"total":3904000},"36":{"monthly":91000,"total":4276000},"48":{"monthly":80000,"total":4840000},"60":{"monthly":75000,"total":5500000}}},
        {"line":"N Series","category":"저가형","size":"NA 86\"","type":"스탠드","typeDetail":"전동스탠드","deposit":1000000,
         "prices":{"24":{"monthly":144000,"total":4456000},"36":{"monthly":108000,"total":4888000},"48":{"monthly":95000,"total":5560000},"60":{"monthly":89000,"total":6340000}}},
        {"line":"N Series","category":"저가형","size":"NW 86\"","type":"벽걸이","typeDetail":"벽걸이형","deposit":1000000,
         "prices":{"24":{"monthly":160000,"total":4840000},"36":{"monthly":116000,"total":5176000},"48":{"monthly":100000,"total":5800000},"60":{"monthly":91000,"total":6460000}}},
        {"line":"N Series","category":"저가형","size":"NW 86\"","type":"스탠드","typeDetail":"전동스탠드","deposit":1000000,
         "prices":{"24":{"monthly":195000,"total":5680000},"36":{"monthly":141000,"total":6076000},"48":{"monthly":122000,"total":6856000},"60":{"monthly":110000,"total":7600000}}},
        {"line":"A11","category":"저가형","size":"75\"","type":"벽걸이","typeDetail":"벽걸이형","deposit":1000000,
         "prices":{"24":{"monthly":80000,"total":2920000},"36":{"monthly":61000,"total":3196000},"48":{"monthly":55000,"total":3640000},"60":{"monthly":52000,"total":4120000}}},
        {"line":"A11","category":"저가형","size":"75\"","type":"스탠드","typeDetail":"전동스탠드","deposit":1000000,
         "prices":{"24":{"monthly":111000,"total":3664000},"36":{"monthly":84000,"total":4024000},"48":{"monthly":75000,"total":4600000},"60":{"monthly":70000,"total":5200000}}},
        {"line":"A13","category":"저가형","size":"65\"","type":"벽걸이","typeDetail":"벽걸이형","deposit":1000000,
         "prices":{"24":{"monthly":80000,"total":2920000},"36":{"monthly":61000,"total":3196000},"48":{"monthly":55000,"total":3640000},"60":{"monthly":52000,"total":4120000}}},
        {"line":"A13","category":"저가형","size":"65\"","type":"스탠드","typeDetail":"전동스탠드","deposit":1000000,
         "prices":{"24":{"monthly":111000,"total":3664000},"36":{"monthly":84000,"total":4024000},"48":{"monthly":75000,"total":4600000},"60":{"monthly":70000,"total":5200000}}},
        {"line":"α 3.0","category":"저가형","size":"86\"","type":"벽걸이","typeDetail":"벽걸이형","deposit":1000000,
         "prices":{"24":{"monthly":94000,"total":3256000},"36":{"monthly":70000,"total":3520000},"48":{"monthly":62000,"total":3976000},"60":{"monthly":59000,"total":4540000}}},
        {"line":"α 3.0","category":"저가형","size":"86\"","type":"스탠드","typeDetail":"전동스탠드","deposit":1000000,
         "prices":{"24":{"monthly":124000,"total":3976000},"36":{"monthly":93000,"total":4348000},"48":{"monthly":83000,"total":4984000},"60":{"monthly":77000,"total":5620000}}},
        {"line":"IX","category":"최신형","size":"65\"","type":"벽걸이","typeDetail":"벽걸이형","deposit":1000000,
         "prices":{"24":{"monthly":166000,"total":4984000},"36":{"monthly":123400,"total":5442400},"48":{"monthly":108900,"total":6227200},"60":{"monthly":100000,"total":7000000}}},
        {"line":"IX","category":"최신형","size":"65\"","type":"스탠드","typeDetail":"전동스탠드","deposit":1000000,
         "prices":{"24":{"monthly":199000,"total":5776000},"36":{"monthly":146500,"total":6274000},"48":{"monthly":128000,"total":7144000},"60":{"monthly":118000,"total":8080000}}},
        {"line":"IX","category":"최신형","size":"65\"","type":"벽걸이","typeDetail":"벽걸이형","deposit":2000000,
         "prices":{"36":{"monthly":88500,"total":5186000},"48":{"monthly":80500,"total":5864000},"60":{"monthly":75900,"total":6554000}}},
        {"line":"IX","category":"최신형","size":"65\"","type":"스탠드","typeDetail":"전동스탠드","deposit":2000000,
         "prices":{"36":{"monthly":108800,"total":5916800},"48":{"monthly":97700,"total":6689600},"60":{"monthly":92000,"total":7520000}}},
        {"line":"IX","category":"최신형","size":"75\"","type":"벽걸이","typeDetail":"벽걸이형","deposit":1000000,
         "prices":{"24":{"monthly":206000,"total":5944000},"36":{"monthly":152900,"total":6504400},"48":{"monthly":134400,"total":7451200},"60":{"monthly":123000,"total":8380000}}},
        {"line":"IX","category":"최신형","size":"75\"","type":"스탠드","typeDetail":"전동스탠드","deposit":1000000,
         "prices":{"24":{"monthly":238000,"total":6712000},"36":{"monthly":176000,"total":7336000},"48":{"monthly":153900,"total":8387200},"60":{"monthly":142000,"total":9520000}}},
        {"line":"IX","category":"최신형","size":"75\"","type":"벽걸이","typeDetail":"벽걸이형","deposit":2000000,
         "prices":{"36":{"monthly":114400,"total":6118400},"48":{"monthly":103000,"total":6944000},"60":{"monthly":96800,"total":7808000}}},
        {"line":"IX","category":"최신형","size":"75\"","type":"스탠드","typeDetail":"전동스탠드","deposit":2000000,
         "prices":{"36":{"monthly":134700,"total":6849200},"48":{"monthly":120200,"total":7769600},"60":{"monthly":112900,"total":8774000}}},
        {"line":"IX","category":"최신형","size":"86\"","type":"벽걸이","typeDetail":"벽걸이형","deposit":1000000,
         "prices":{"24":{"monthly":244000,"total":6856000},"36":{"monthly":180000,"total":7480000},"48":{"monthly":157300,"total":8550400},"60":{"monthly":145000,"total":9700000}}},
        {"line":"IX","category":"최신형","size":"86\"","type":"스탠드","typeDetail":"전동스탠드","deposit":1000000,
         "prices":{"24":{"monthly":275000,"total":7600000},"36":{"monthly":202000,"total":8272000},"48":{"monthly":177700,"total":9529600},"60":{"monthly":163000,"total":10780000}}},
        {"line":"IX","category":"최신형","size":"86\"","type":"벽걸이","typeDetail":"벽걸이형","deposit":2000000,
         "prices":{"36":{"monthly":138200,"total":6975200},"48":{"monthly":123200,"total":7913600},"60":{"monthly":115600,"total":8936000}}},
        {"line":"IX","category":"최신형","size":"86\"","type":"스탠드","typeDetail":"전동스탠드","deposit":2000000,
         "prices":{"36":{"monthly":157800,"total":7680800},"48":{"monthly":141200,"total":8777600},"60":{"monthly":131800,"total":9908000}}},
        {"line":"IX","category":"최신형","size":"98\"","type":"벽걸이","typeDetail":"벽걸이형","deposit":2000000,
         "prices":{"24":{"monthly":380000,"total":11120000},"36":{"monthly":282000,"total":12152000},"48":{"monthly":248300,"total":13918400},"60":{"monthly":229000,"total":15740000}}},
        {"line":"IX","category":"최신형","size":"98\"","type":"스탠드","typeDetail":"전동스탠드","deposit":2000000,
         "prices":{"24":{"monthly":411700,"total":11880800},"36":{"monthly":305900,"total":13012400},"48":{"monthly":268800,"total":14902400},"60":{"monthly":247000,"total":16820000}}},
        {"line":"IX","category":"최신형","size":"98\"","type":"벽걸이","typeDetail":"벽걸이형","deposit":4000000,
         "prices":{"36":{"monthly":208500,"total":11506000},"48":{"monthly":188000,"total":13024000},"60":{"monthly":176900,"total":14614000}}},
        {"line":"IX","category":"최신형","size":"98\"","type":"스탠드","typeDetail":"전동스탠드","deposit":4000000,
         "prices":{"36":{"monthly":228800,"total":12236800},"48":{"monthly":206000,"total":13888000},"60":{"monthly":193000,"total":15580000}}}
    ];

    let currentCategory = null;
    let deferredPrompt = null;

    // 유틸: 숫자 포맷
    function fmt(n) {
        return n.toLocaleString('ko-KR');
    }

    // 유틸: HTML attribute 이스케이프
    function esc(s) {
        return s.replace(/&/g,'&amp;').replace(/"/g,'&quot;');
    }

    // 카테고리 색상
    function getCatColor(cat) {
        if (cat === '인기기업형') return 'blue';
        if (cat === '저가형') return 'green';
        if (cat === '최신형') return 'red';
        return 'blue';
    }

    // 탭 전환
    function switchTab(tab) {
        document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
        document.getElementById('tab-' + tab).classList.add('active');
        event.target.classList.add('active');
    }

    // 카테고리 선택
    function selectCategory(cat) {
        currentCategory = cat;
        document.querySelectorAll('.category-badge').forEach(el => {
            el.classList.toggle('active', el.dataset.cat === cat);
        });

        const selLine = document.getElementById('selLine');
        const lines = [...new Set(DATA.filter(d => d.category === cat).map(d => d.line))];

        selLine.innerHTML = '<option value="">제품 라인 선택</option>';
        lines.forEach(l => {
            selLine.innerHTML += `<option value="${l}">${l}</option>`;
        });
        selLine.disabled = false;

        // 라인이 하나면 자동 선택
        if (lines.length === 1) {
            selLine.value = lines[0];
            onLineChange();
        } else {
            resetFrom('size');
        }
    }

    // 제품 라인 변경
    function onLineChange() {
        const line = document.getElementById('selLine').value;
        if (!line) { resetFrom('size'); return; }

        const selSize = document.getElementById('selSize');
        const sizes = [...new Set(DATA.filter(d => d.line === line).map(d => d.size))];

        selSize.innerHTML = '<option value="">화면 크기 선택</option>';
        sizes.forEach(s => {
            selSize.innerHTML += `<option value="${esc(s)}">${s}</option>`;
        });
        selSize.disabled = false;
        resetFrom('type');
    }

    // 화면 크기 변경
    function onSizeChange() {
        const line = document.getElementById('selLine').value;
        const size = document.getElementById('selSize').value;
        if (!size) { resetFrom('type'); return; }

        const selType = document.getElementById('selType');
        const types = [...new Set(DATA.filter(d => d.line === line && d.size === size).map(d => d.type))];

        selType.innerHTML = '<option value="">설치 타입 선택</option>';
        types.forEach(t => {
            selType.innerHTML += `<option value="${t}">${t}</option>`;
        });
        selType.disabled = false;
        resetFrom('deposit');
    }

    // 설치 타입 변경
    function onTypeChange() {
        const line = document.getElementById('selLine').value;
        const size = document.getElementById('selSize').value;
        const type = document.getElementById('selType').value;
        if (!type) { resetFrom('deposit'); return; }

        const deposits = [...new Set(DATA.filter(d => d.line === line && d.size === size && d.type === type).map(d => d.deposit))];

        if (deposits.length > 1) {
            const selDeposit = document.getElementById('selDeposit');
            const depositField = document.getElementById('depositField');
            selDeposit.innerHTML = '<option value="">선납금 선택</option>';
            deposits.sort((a, b) => a - b).forEach(dep => {
                selDeposit.innerHTML += `<option value="${dep}">${fmt(dep)}원</option>`;
            });
            selDeposit.disabled = false;
            depositField.style.display = 'block';
            hideResult();
        } else {
            document.getElementById('depositField').style.display = 'none';
            showResult(line, size, type, deposits[0]);
        }
    }

    // 선납금 변경
    function onDepositChange() {
        const line = document.getElementById('selLine').value;
        const size = document.getElementById('selSize').value;
        const type = document.getElementById('selType').value;
        const deposit = parseInt(document.getElementById('selDeposit').value);
        if (!deposit) { hideResult(); return; }

        showResult(line, size, type, deposit);
    }

    // 결과 표시
    function showResult(line, size, type, deposit) {
        const item = DATA.find(d => d.line === line && d.size === size && d.type === type && d.deposit === deposit);
        if (!item) return;

        const cat = item.category;
        const color = getCatColor(cat);

        // 결과 헤더
        const header = document.getElementById('resultHeader');
        header.innerHTML = `
            <div class="result-product-name">${line} ${size}</div>
            <div class="result-spec">${item.typeDetail}</div>
            <div class="deposit-display ${color}">선납금 ${fmt(deposit)}원</div>
        `;

        // 가격 카드
        const grid = document.getElementById('priceGrid');
        const periods = Object.keys(item.prices).sort((a, b) => parseInt(a) - parseInt(b));
        grid.innerHTML = '';

        periods.forEach((period, idx) => {
            const p = item.prices[period];
            const isRecommended = period === '36';
            grid.innerHTML += `
                <div class="price-card color-${color} ${isRecommended ? 'recommended' : ''}">
                    <div class="price-period"><strong>${period}개월</strong>${period === '24' ? '최저총액' : period === '36' ? '추천' : period === '48' ? '' : '최저월납'}</div>
                    <div class="price-monthly">
                        <div class="label">월 렌탈료</div>
                        <div class="amount">${fmt(p.monthly)}<span class="won">원</span></div>
                    </div>
                    <div class="price-total">
                        <div class="label">총 납입금액</div>
                        <div class="amount">${fmt(p.total)}원</div>
                    </div>
                </div>
            `;
        });

        document.getElementById('resultSection').classList.add('show');
        document.getElementById('emptyState').style.display = 'none';

        // 스크롤
        setTimeout(() => {
            document.getElementById('resultSection').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 100);
    }

    function hideResult() {
        document.getElementById('resultSection').classList.remove('show');
        document.getElementById('emptyState').style.display = 'block';
    }

    function resetFrom(level) {
        const levels = ['size', 'type', 'deposit'];
        const idx = levels.indexOf(level);
        for (let i = idx; i < levels.length; i++) {
            const sel = document.getElementById('sel' + levels[i].charAt(0).toUpperCase() + levels[i].slice(1));
            if (levels[i] === 'deposit') {
                document.getElementById('depositField').style.display = 'none';
            }
            if (sel) {
                sel.innerHTML = `<option value="">${getPlaceholder(levels[i])}</option>`;
                sel.disabled = true;
            }
        }
        hideResult();
    }

    function getPlaceholder(level) {
        const map = {
            'size': '화면 크기를 먼저 선택하세요',
            'type': '화면 크기를 먼저 선택하세요',
            'deposit': '선납금 선택'
        };
        return map[level] || '';
    }

    // PWA 설치
    window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault();
        deferredPrompt = e;
        document.getElementById('installBtn').classList.add('show');
    });

    function installApp() {
        if (!deferredPrompt) return;
        deferredPrompt.prompt();
        deferredPrompt.userChoice.then(() => {
            deferredPrompt = null;
            document.getElementById('installBtn').classList.remove('show');
        });
    }

    // 서비스 워커 등록
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('sw.js')
            .catch(() => {});
    }
    </script>
</body>
</html>
